{"ast":null,"code":"var _jsxFileName = \"C:\\\\Coding\\\\Beauty2Door\\\\beauty2door\\\\client\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../utils/Mutations';\nimport Auth from '../utils/auth';\nimport Signup from '../pages/Signup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = props => {\n  _s();\n  let [formState, setFormState] = useState({\n    email: '',\n    password: ''\n  });\n  const [login, {\n    error\n  }] = useMutation(LOGIN_USER);\n\n  // update state based on form input changes\n\n  // submit form\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    setFormState(formState = {\n      email: event.target.email.value,\n      password: event.target.password.value\n    });\n    console.log('running');\n    try {\n      const {\n        data\n      } = await login({\n        variables: {\n          ...formState\n        }\n      });\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.log(formState);\n      console.error(e);\n    }\n  };\n  // if (authMode === 'signin') {}\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Auth-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"login\",\n      className: \"Auth-form\",\n      onSubmit: handleFormSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Auth-form-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"Auth-form-title\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [\"Not registered yet?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"link-primary\",\n            onClick: Signup,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control mt-1\",\n            placeholder: \"Enter email\",\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control mt-1\",\n            placeholder: \"Enter password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid gap-2 mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center mt-2\",\n          children: [\"Forgot \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Login failed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"i/wLpmL0NhpmTAH6FaB6m9xBh1Q=\", false, function () {\n  return [useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useMutation","LOGIN_USER","Auth","Signup","Login","props","formState","setFormState","email","password","login","error","handleFormSubmit","event","preventDefault","target","value","console","log","data","variables","token","e"],"sources":["C:/Coding/Beauty2Door/beauty2door/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport { useMutation } from '@apollo/client';\r\nimport { LOGIN_USER } from '../utils/Mutations';\r\nimport Auth from '../utils/auth';\r\nimport Signup from '../pages/Signup';\r\n\r\nconst Login = (props) => {\r\n  let [formState, setFormState] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [login, { error }] = useMutation(LOGIN_USER);\r\n\r\n  // update state based on form input changes\r\n  \r\n  // submit form\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setFormState(formState={email: event.target.email.value,password: event.target.password.value})\r\n\r\n    console.log('running')\r\n\r\n    try {\r\n      const { data } = await login({\r\n        variables: { ...formState }\r\n      });\r\n\r\n      Auth.login(data.login.token);\r\n    } catch (e) {\r\n      console.log(formState)\r\n      console.error(e);\r\n    }\r\n  }\r\n    // if (authMode === 'signin') {}\r\n    return (\r\n        <div className=\"Auth-form-container\">\r\n            <form name=\"login\" className=\"Auth-form\" onSubmit={handleFormSubmit}>\r\n                <div className=\"Auth-form-content\">\r\n                    <h3 className=\"Auth-form-title\">Sign In</h3>\r\n                    <div className=\"text-center\">\r\n                        Not registered yet?{\" \"}\r\n                        <span className=\"link-primary\" onClick={Signup}>\r\n                            Sign Up\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label>Email address</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control mt-1\"\r\n                            placeholder=\"Enter email\"\r\n                            name='email'\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label>Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control mt-1\"\r\n                            placeholder=\"Enter password\"\r\n                            name='password'\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-grid gap-2 mt-3\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                            Submit\r\n                        </button>\r\n                    </div>\r\n                    <p className=\"text-center mt-2\">\r\n                        Forgot <a href=\"#\">password?</a>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n            {error && <div>Login failed</div>}\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}